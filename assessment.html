<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجز نسخة النظام | 24Seven Bot</title>
    <style>
        :root { --bg-dark: #0a1128; --bg-card: #111a3a; --accent: #00d9ff; --success: #27ae60; --text: #ffffff; }
        body { font-family: 'Segoe UI', Tahoma; background: var(--bg-dark); color: var(--text); padding: 20px; text-align: right; }
        .container { max-width: 650px; margin: 40px auto; background: var(--bg-card); padding: 40px; border-radius: 20px; border: 1px solid var(--accent); box-shadow: 0 20px 60px rgba(0,0,0,0.5); }
        h2 { margin-bottom: 10px; color: var(--accent); font-size: 2rem; }
        p.subtitle { color: var(--text-muted); margin-bottom: 30px; opacity: 0.8; }
        .form-group { margin-bottom: 25px; }
        label { display: block; margin-bottom: 10px; font-weight: 700; color: var(--accent); }
        input, select { width: 100%; padding: 14px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); background: #1a264d; color: white; outline: none; font-size: 1rem; }
        input:focus { border-color: var(--accent); box-shadow: 0 0 10px rgba(0,217,255,0.2); }
        .steps-card { background: rgba(0,217,255,0.04); padding: 20px; border-right: 5px solid var(--accent); border-radius: 8px; margin-bottom: 30px; }
        .steps-card li { margin-bottom: 8px; font-size: 0.95rem; list-style: none; }
        .submit-btn { width: 100%; padding: 20px; background: var(--success); color: white; border: none; border-radius: 12px; font-weight: 900; cursor: pointer; font-size: 1.2rem; transition: 0.3s; margin-top: 10px; }
        .submit-btn:hover { background: #219150; transform: translateY(-3px); }
        .submit-btn:disabled { background: #444; opacity: 0.7; }
    </style>
</head>
<body>

<div class="container">
    <h2>تفعيل نظام 24Seven لشركتك</h2>
    <p class="subtitle">يرجى تسجيل البيانات بدقة لإعداد ملفات الكود الخاصة بك.</p>
    
    <div class="steps-card">
        <ul>
            <li>✅ تسجيل بيانات الشركة والأسطول</li>
            <li>✅ استلام تفاصيل التحويل (فودافون كاش)</li>
            <li>✅ إرسال ملف الكود + فيديو شرح الربط خلال ساعة</li>
        </ul>
    </div>

    <form id="order-form">
        <div class="form-group">
            <label>اسم صاحب الشركة / المدير المسئول</label>
            <input type="text" name="from_name" id="name" required placeholder="الاسم الكامل">
        </div>
        <div class="form-group">
            <label>رقم الواتساب (لإرسال الكود والدعم الفني)</label>
            <input type="tel" name="phone" id="phone" required placeholder="01xxxxxxxxx">
        </div>
        <div class="form-group">
            <label>عدد سيارات الشركة حالياً</label>
            <input type="number" name="fleet_size" id="fleet" required placeholder="مثال: 10">
        </div>
        <div class="form-group">
            <label>الباقة الأساسية</label>
            <select name="package" id="package">
                <option value="Full Package - 999 EGP">باقة التمليك الكاملة (999 جنيهاً مصرياً)</option>
            </select>
        </div>
        
        <button type="submit" class="submit-btn" id="submitBtn">تأكيد الطلب وحجز نسخة الكود</button>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
    (function(){
        // تم الحفاظ على الـ Public Key الخاص بك لضمان استلام الإيميلات
        emailjs.init("KkVNrxD2AirmD-BxM"); 
    })();

    const form = document.getElementById('order-form');
    const btn = document.getElementById('submitBtn');

    form.addEventListener('submit', function(e) {
        e.preventDefault();
        btn.disabled = true;
        btn.textContent = "جاري معالجة طلبك...";

        // إرسال البيانات لقالب EmailJS (تأكد من مطابقة الـ Template ID)
        emailjs.sendForm('24seven', 'template_ho8ma0t', this)
            .then(function() {
                alert('تم استلام طلبك بنجاح! سيتم إرسال أرقام التحويل عبر الواتساب فوراً.');
                form.reset();
            }, function(error) {
                alert('عذراً، حدث خطأ تقني. يرجى المحاولة مرة أخرى.');
                console.log(error);
            })
            .finally(() => {
                btn.disabled = false;
                btn.textContent = "تأكيد الطلب وحجز نسخة الكود";
            });
    });
</script>
</body>
</html>
